<?php
/**

GET /vodka/v2/mms/official/query/categories?parentId=9313 HTTP/1.1
User-Agent: android Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yyb
ETag: TDh2Hsue
accessToken: bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632
Content-Type: application/json;charset=UTF-8
PASSID: bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632
Host: mms.pinduoduo.com
Connection: close
Cookie: api_uid=rBQH01u/V4xeZiVSDExjAg==; PASS_ID=bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632


HTTP/1.1 200 OK
Date: Fri, 12 Oct 2018 08:47:28 GMT
Content-Type: application/json;charset=UTF-8
Connection: close
Server: Tengine
Vary: Accept-Encoding
Vary: Accept-Encoding
Vary: Accept-Encoding
Content-Length: 9170

{"success":true,"errorCode":1000000,"errorMsg":null,"result":[{"notice":"","leaf":null,"id":9325,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9325,"cat_id_3":0,"cat_id_4":0,"cat_name":"è¢«å¥","cat_desc":"è¢«å¥","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"B"},{"notice":"","leaf":null,"id":9326,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9326,"cat_id_3":0,"cat_id_4":0,"cat_name":"è¢«å­","cat_desc":"è¢«å­","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"B"},{"notice":"","leaf":null,"id":9327,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9327,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºå","cat_desc":"åºå","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9328,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9328,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºå«/åºè¤¥/åºæ¤å«","cat_desc":"åºå«/åºè¤¥/åºæ¤å«","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"åºçæçæ¯æ¾å¨åä»¶å¥æè¢«å­ä¸çé¿æ¹å½¢æ¯å·¾ã","leaf":null,"id":9329,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9329,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºç","cat_desc":"åºç","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9330,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9330,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºç¬ ","cat_desc":"åºç¬ ","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9331,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9331,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºå¹","cat_desc":"åºå¹","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9332,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9332,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºåå®å¶/å®å","cat_desc":"åºåå®å¶/å®å","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9333,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9333,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºåéä»¶","cat_desc":"åºåéä»¶","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9334,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9334,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºåå¥ä»¶/åä»¶å¥/å¤ä»¶å¥","cat_desc":"åºåå¥ä»¶/åä»¶å¥/å¤ä»¶å¥","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9335,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9335,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºè£","cat_desc":"åºè£","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9336,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9336,"cat_id_3":0,"cat_id_4":0,"cat_name":"åºç½©","cat_desc":"åºç½©","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"C"},{"notice":"","leaf":null,"id":9337,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9337,"cat_id_3":0,"cat_id_4":0,"cat_name":"çµç­æ¯¯","cat_desc":"çµç­æ¯¯","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"D"},{"notice":"","leaf":null,"id":9338,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9338,"cat_id_3":0,"cat_id_4":0,"cat_name":"å¿ç«¥åºå","cat_desc":"å¿ç«¥åºå","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"E"},{"notice":"","leaf":null,"id":9339,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9339,"cat_id_3":0,"cat_id_4":0,"cat_name":"åå¸­/ç«¹å¸­/è¤å¸­/çç®å¸­","cat_desc":"åå¸­/ç«¹å¸­/è¤å¸­/çç®å¸­","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"L"},{"notice":"","leaf":null,"id":9340,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9340,"cat_id_3":0,"cat_id_4":0,"cat_name":"å¶å®","cat_desc":"å¶å®","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"Q"},{"notice":"","leaf":null,"id":9341,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9341,"cat_id_3":0,"cat_id_4":0,"cat_name":"ç¡è¢","cat_desc":"ç¡è¢","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"S"},{"notice":"æè´¨/ææè¯·å¨å±æ§ä¸­å¡«åã","leaf":null,"id":9342,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9342,"cat_id_3":0,"cat_id_4":0,"cat_name":"èå¸","cat_desc":"èå¸","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"W"},{"notice":"æè´¨/ææè¯·å¨å±æ§ä¸­å¡«åã","leaf":null,"id":9343,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9343,"cat_id_3":0,"cat_id_4":0,"cat_name":"ä¼é²æ¯¯/æ¯æ¯¯/ç»æ¯¯","cat_desc":"ä¼é²æ¯¯/æ¯æ¯¯/ç»æ¯¯","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"X"},{"notice":"","leaf":null,"id":9344,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9344,"cat_id_3":0,"cat_id_4":0,"cat_name":"æå·¾","cat_desc":"æå·¾","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"Z"},{"notice":"","leaf":null,"id":9345,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9345,"cat_id_3":0,"cat_id_4":0,"cat_name":"æå¥","cat_desc":"æå¥","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"Z"},{"notice":"","leaf":null,"id":9346,"parent_id":9313,"level":2,"cat_id_1":9313,"cat_id_2":9346,"cat_id_3":0,"cat_id_4":0,"cat_name":"æå¤´/æè¯/ä¿å¥æ","cat_desc":"æå¤´/æè¯/ä¿å¥æ","priority":0,"image_url":"","is_hidden":0,"is_review":1,"is_review_image":1,"min_price":0,"max_price":0,"price_range_ratio":0.0,"example_picture_array":"","is_support_wayward_return":0,"is_deleted":0,"is_mall_dsr":1,"first_letter":"Z"}]}

POST /glide/v2/mms/official/edit/commit/update HTTP/1.1
User-Agent: android Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yyb
ETag: TDh2Hsue
accessToken: bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632
PASSID: bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632
Content-Type: application/json;charset=UTF-8
Content-Length: 963
Host: mms.pinduoduo.com
Connection: close
Cookie: api_uid=rBQH01u/V4xeZiVSDExjAg==; PASS_ID=bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632

{"goods_commit_id":6713794192,"goods_name":"xxxxxxxxxxxxxxxxxxxx","goods_desc":"xxxxxxxxxxxxxxx","market_price":300,"cost_template_id":8603719,"carousel_gallery":["http://t00img.yangkeduo.com/goods/images/2018-10-12/77261e256c00a73933e3c2df11913693.jpg"],"detail_gallery":["http://t00img.yangkeduo.com/goods/images/2018-10-12/77261e256c00a73933e3c2df11913693.jpg"],"skus":[{"is_onsale":1,"limit_quantity":999,"multi_price":100,"price":200,"quantity":2,"spec_id_list":[],"spec":[{"parent_name":"åå","parent_id":0,"spec_name":"","spec_id":0}],"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-12/77261e256c00a73933e3c2df11913693.jpg","weight":0,"new":true,"sku_id":0,"increaseDecrease":0}],"video_gallery":[],"goods_type":1,"is_folt":1,"country_id":0,"country":"","is_pre_sale":0,"shipment_limit_second":172800,"pre_sale_time":null,"warehouse":"","customs":"","is_customs":false,"is_refundable":1,"second_hand":0,"cat_id":9501,"goods_properties":[]}


ws://111.231.152.119:88/?access_token=36ccc4d6ba31bb64a150ed0cf67fbb71&role=mall_cs&client=android

{"request_id":1539341737997727,"cmd":"heartbeat"}
{"request_id":1539341437615535,"cmd":"latest_conversations","version":2,"need_unreply_time":true,"page":1,"size":20,"end_time":1538726400}
{"cmd":"marked_lastest_conversations","request_id":1539341437615477,"size":100}
{"request_id":1539341437615895,"cmd":"spam_uid_conversations","size":20,"page":1,"end_time":1538726400}
{"request_id":1539341437615589,"cmd":"get_banner_reminder"}
{"response":"heartbeat","request_id":1539341437615878,"server_time":1539341458765,"result":"ok"}
{"response":"latest_conversations","request_id":1539341437615535,"result":"ok","has_more":false,"conversations":[{"content":"咋了","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"last_unreply_time":0,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539337730490","pre_msg_id":"1539337725002","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539337730","type":0,"user_info":{"uid":3439665155,"nickname":"旭日东升","avatar":"http://t20img.yangkeduo.com/a/044762c3cdbbea3ce1371b2e7b06db1778261c76-1534878958?imageMogr2/thumbnail/100x","regular_customer":false},"version":1}],"start_time_req":false,"page":1,"size":20,"end_time":1538726400}
{"response":"marked_lastest_conversations","request_id":1539341437615477,"result":"ok","has_more":false,"page":1,"size":100,"marked_conversations":[]}
{"response":"spam_uid_conversations","request_id":1539341437615895,"result":"ok","start_time_req":false,"page":1,"size":20,"end_time":1538726400,"has_more":false,"conversations":[]}
{"response":"get_banner_reminder","request_id":1539341437615589,"result":"ok","banner_content":"1. 拼多多平台禁止商家对消费者使用不文明用语或辱骂、骚扰等，否则将根据情节对商家全店下架3天、7天、15天甚至清退； 2.拼多多平台禁止商家添加用户微信、QQ等其他平台帐号，一旦监测到违规行为，将提高店铺保证金10万，否则清退店铺。 "}
{"cmd":"list","request_id":1539341437709287,"list":{"with":{"role":"user","id":"3439665155"},"start_msg_id":"1539337730490","start_index":0,"size":11}}
{"response":"list","request_id":1539341437709287,"result":"ok","read_mark":{"user_last_read":"1539334976957","min_supported_msg_id":"1537257600000"},"messages":[{"content":"在的","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539337725002","pre_msg_id":"1539337216933","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539337725","type":0,"version":1},{"content":"啥情况","from":{"role":"user","uid":"3439665155"},"is_aut":0,"msg_id":"1539337216933","pre_msg_id":"1539334976957","status":"unread","to":{"role":"mall","uid":"188639248"},"ts":"1539337216","type":0,"version":1},{"content":"在的哈亲~","from":{"csid":"pdd18863924870","mall_id":"188639248","regular_customer":false,"role":"mall_cs","uid":"188639248"},"hide_read_mark":false,"is_aut":0,"is_end":0,"is_faq":0,"is_read":1,"is_risk":0,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539334976957","pre_msg_id":0,"status":"read","to":{"regular_customer":false,"role":"user","uid":"3439665155"},"ts":"1539334976","type":0,"version":1},{"content":"😊好的哈 亲","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539247856313","pre_msg_id":"1539247779452","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539247856","type":0,"version":1},{"content":"1米X2米 68元","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539247779452","pre_msg_id":"1539247774982","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539247779","type":0,"version":1},{"content":"我不要了","from":{"role":"user","uid":"3439665155"},"is_aut":0,"msg_id":"1539247774982","pre_msg_id":"1539247748697","status":"unread","to":{"uid":"188639248"},"ts":"1539247774","type":0,"version":1},{"content":"他家是什么材质呢","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539247748697","pre_msg_id":"1539247745418","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539247748","type":0,"version":1},{"content":"你知道我家是什么材质吗","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539247745418","pre_msg_id":"1539247737185","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539247745","type":0,"version":1},{"content":"亲爱的","from":{"csid":"pdd18863924870","mall_id":"188639248","role":"mall_cs","uid":"188639248"},"is_aut":0,"is_read":1,"mallName":"爱巢家居家纺店","manual_reply":1,"msg_id":"1539247737185","pre_msg_id":"1539247717765","status":"read","to":{"role":"user","uid":"3439665155"},"ts":"1539247737","type":0,"version":1},{"content":"材质比你家的好","from":{"role":"user","uid":"3439665155"},"is_aut":0,"msg_id":"1539247717765","pre_msg_id":"1539247663969","status":"unread","to":{"uid":"188639248"},"ts":"1539247717","type":0,"version":1},{"content":"如果我只要你1米X2米买多少？","from":{"role":"user","uid":"3439665155"},"is_aut":0,"msg_id":"1539247663969","pre_msg_id":"1539247629043","status":"unread","to":{"uid":"188639248"},"ts":"1539247663","type":0,"version":1}],"has_more":true}
{"request_id":1539341497692485,"cmd":"heartbeat"}
{"cmd":"send_message","request_id":1539341756643339,"message":{"to":{"role":"user","uid":"3439665155"},"from":{"role":"mall_cs"},"ts":1539341756,"content":"机器人抽风了抱歉","msg_id":99999999999999,"type":0,"is_aut":0,"status":"read","is_read":1},"random":"711676b1f6c90c09f072817c1debb6e0"}
{"response":"send_message","request_id":1539341756643339,"result":"ok","need_exam":false,"exam_hint":"","msg_id":1539341777799,"ts":1539341777}
**/
class pinduoduo_app{
	
	public $baseurl="http://mms.pinduoduo.com/";
	public $api_login="/latitude/auth/login";
	public $api_rsa_key = "/earth/api/queryPasswordEncrypt";
	public $api_get_phone_yzm = "/latitude/auth/mobileCaptcha/get";
	public $api_userinfo = "/earth/api/user/userinfo";
	public $api_refreshToken = "/earth/api/user/refreshToken";
    public $api_verificationCode_send = "/latitude/auth/verificationCode/send";
    public $api_checkLoginType = "/earth/api/merchant/checkLoginType";
    public $api_sendSmsCode4NotBindMall = "/earth/api/merchant/sendSmsCode4NotBindMall";
    public $api_mobileEntry = "/earth/api/merchant/mobileEntry";
    public $api_queryMerchantInfo = "/earth/api/merchant/queryMerchantInfo";
    public $api_chat_authlogin = "/earth/api/appwechat/authlogin";
    public $api_chat_bind = "/earth/api/appwechat/bind";
    public $api_chat_createnewmall = "/earth/api/appwechat/createnewmall";
    public $api_chat_loginuser = "/earth/api/appwechat/loginuser";
    public $api_getCaptchaCode = "/earth/api/merchant/getCaptchaCode";
    public $api_goods_commit = "/glide/v2/mms/official/query/has/goods_commit";
    public $api_queryMerchantInfoByMallId = "/earth/api/merchant/queryMerchantInfoByMallId";
    public $api_micro_transfer = "/mercury/micro_transfer/gray";
    public $api_mallInfo_catList = "/earth/api/mallInfo/catList";
	
	function __construct(){
		
	}
/**
登陆过程
password RSA 加密

POST /latitude/auth/login HTTP/1.1
Referer: Android
User-Agent: androidandroid Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yybandroid Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yyb
ETag: TDh2Hsue
PASSID: 
Content-Type: application/json;charset=UTF-8
Content-Length: 814
Host: mms.pinduoduo.com
Connection: close
Cookie: api_uid=rBQH01u/V4xeZiVSDExjAg==

{"username":"1111111111","login_token":"5ad1bxz4g\/23DWvJoVmY93Yk9SpH78UJDc7rpotxmHbEJdoKXaSrLK9+\/5+FuTeQc0ia+CSn0irp\/U1+86qZWQNU4c5nWxUB6TnHOlLNuvviggiXhBdw79m+f2Xfwgf7jshhXLf2rphDWDWRXXccAiBOSceYJ78jGPxv1kAZctIAJZAXUcmm8EJCikMWyan\/v46+v6wOuDMBZz14BTKXwH94GwqbjvRrTYneyRua7zKg3y1yhCezSLTF7wBlwr47jOhbO4VPRYJak2Sq5MJlzD+QhtrpRU3sAD9fZz8RLAnePkm+ektI\/TJD0m7LYeFEZpVMaFn+ozI3yxCQsMf3Wr6Vw+LI5eg7z51QdMMrrdzuD3nwYXSl1WjzRtk8EipmGPesdStYkxXWr3dJorLt1WiQVliqV04pU31FrBCwVIkKdkNMdSzl2klDyQAWVVNpvdZwoVSX2MIr\/xbOVn7JdyENxiCwxOD5ryLJoVJD38FV\/s5F96Gmmvkoi\/55QtkyPuGRrWT+7yH4a2+HRoIlWZuZQ==","device_name":"SM-G955F","password":"Lwn426vl2SPSlyOXmdpdIVH01T6dEDlr3ASVRS81xbLYFHbVeWDrZYuePWsMnfL84egN1SBp4j9sAagg59FDcRZ+xNzJGlWPXSYjBzRPy\/H\/TJ+FH7l3BDD9MIZMKhvAjUXYRVQlnm+9FN3YTsJgdMyca8hKqVPaj3XjQ79fCso=","version":2}
----
{"success":false,"error_code":10003,"error_msg":"账号或密码错误"}
----
{"success":true,"result":{"auth":true,"id":17085632,"roles":[1],"mobile":"17807020247","username":"pdd18863924870","nickname":"","mall_id":188639248,"password_status":0,"PASS_ID":"bapp_1-vDRHLJoaZKRL4CNopMMidO8DLtiF90+8EFnDLOmEq6YdONVbvcMzn5xlLunkyOFc9BADKPNlUfOO5eRKnkr6jQ_188639248_17085632"},"error_code":1000000,"error_msg":null}
----
**/
	function login($user,$password,$token_login,$headers,$cookie,$proxy,$puser_pass){
	$data=array(
	$username=>$user,
	$token_login=>$token_login,
	device_name=>"SM-G955F",
	password=>$password,
	version=>"2"
	);
	$data=http_init($this->baseurl.$api_login,"POST",$headers,$cookie,json_encode($data),$proxy,$puser_pass);
	return $data;
	}
	
	/**
获取RSAkey

GET /earth/api/queryPasswordEncrypt HTTP/1.1
Referer: Android
User-Agent: androidandroid Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yybandroid Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yyb
ETag: TDh2Hsue
Content-Type: application/json;charset=UTF-8
PASSID: 
Host: mms.pinduoduo.com
Connection: close
Cookie: api_uid=rBQH01u/V4xeZiVSDExjAg==
---
{"success":true,"errorCode":1000000,"errorMsg":null,"result":{"passwordEncrypt":true,"publicKey":"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDOJ3pYE2cYqdHAnQhd0akAQ6tKiepF6ZCXnYix8HyZJapWm5aeJRmXpWPaH2l+tZzgwOELJLu0BYk6eefWpd79Zm63+cSRdRqhgSv3/Anh4XVjBBewc26KUKMq5MWnEVCyjEDZSzUvCnDiVOl+Uid9tRRr1ZrBMKsXwSgjvge0NwIDAQAB"}}
	**/
	function GetRsakey(){
		$data=http_init($this->baseurl.$api_login,"GET",$headers,$cookie,"",$proxy,$puser_pass);
		$data=json_decode($data);
		return $data["result"]["publicKey"];	
	}
	function decode_data($data){
		
	}
	function encode_data($data){
		
	}
	function login_token($time){
	$data=array();
	return base64_decode(encode_data(json_encode($data)));
	}
	/**
	$puser_pass=>username:password
	$proxy=> localhost:8080(sockte)
	**/
	function http_init($url,$m,$headers,$cookie,$data,$proxy,$puser_pass)
    {
		date_default_timezone_set('PRC');
        $ch = curl_init();
		curl_setopt($ch, CURLOPT_URL, $url);
		if(stripos($url,"https://")!==FALSE){
			curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);
			curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
			curl_setopt($ch, CURLOPT_SSLVERSION, 1);
		}
		if(stripos($m,"POST")!==FALSE){
		    curl_setopt($ch, CURLOPT_POST,true);
			curl_setopt($ch, CURLOPT_POSTFIELDS,$data);	
		}
		$pro=explode(":",$proxy);
		curl_setopt($ch, CURLOPT_PROXY, $pro[0]);
		curl_setopt($ch, CURLOPT_PROXYPORT, $pro[1]);
		curl_setopt($ch, CURLOPT_PROXYUSERPWD,$puser_pass);
		curl_setopt($ch, CURLOPT_PROXYTYPE, CURLPROXY_HTTP);//CURLPROXY_SOCKS5);
		curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_HEADER, 0);
		curl_setopt($ch, CURLOPT_USERAGENT, "androidandroid Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025 pddmt_android_channel/yybandroid Mozilla/5.0 (Linux; Android 4.4.2; SM-G955F Build/JLS36C) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36  pddmt_android_version/2.2.3 pddmt_android_build/2025");
		curl_setopt($ch, CURLOPT_COOKIE, $cookie);
		curl_setopt($ch, CURLOPT_FOLLOWLOCATION,1);
		$file_contents = curl_exec($ch);
		curl_close($ch);
		return $file_contents;
    }
}
//var_dump(json_decode('{"goods_commit_id":6876849934,"goods_name":"111111111111111111111111111111","goods_desc":"11111111111111111111111111111111","market_price":300,"cost_template_id":8631178,"carousel_gallery":["http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg"],"detail_gallery":["http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg"],"skus":[{"is_onsale":1,"limit_quantity":999,"multi_price":100,"price":200,"quantity":1,"spec_id_list":[1240184398,11408634],"spec":[{"parent_name":"花型","parent_id":8137,"spec_name":"111111111","spec_id":1240184398},{"parent_name":"套餐","parent_id":20711,"spec_name":"11111","spec_id":11408634}],"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","weight":0,"new":true,"sku_id":0,"increaseDecrease":0},{"is_onsale":1,"limit_quantity":999,"multi_price":100,"price":200,"quantity":1,"spec_id_list":[554476330,1240184605],"spec":[{"parent_name":"花型","parent_id":8137,"spec_name":"22222222222222222","spec_id":554476330},{"parent_name":"套餐","parent_id":20711,"spec_name":"22222222222222222","spec_id":1240184605}],"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","weight":0,"new":true,"sku_id":0,"increaseDecrease":0},{"is_onsale":1,"limit_quantity":999,"multi_price":100,"price":200,"quantity":1,"spec_id_list":[1240185770,188664105],"spec":[{"parent_name":"花型","parent_id":8137,"spec_name":"3333333333333333","spec_id":1240185770},{"parent_name":"套餐","parent_id":20711,"spec_name":"3333333333333","spec_id":188664105}],"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","weight":0,"new":true,"sku_id":0,"increaseDecrease":0},{"is_onsale":0,"limit_quantity":999,"multi_price":100,"price":200,"quantity":0,"spec_id_list":[1240184398,1240184605],"new":true,"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","other":true,"sku_id":0},{"is_onsale":0,"limit_quantity":999,"multi_price":100,"price":200,"quantity":0,"spec_id_list":[1240184398,188664105],"new":true,"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","other":true,"sku_id":0},{"is_onsale":0,"limit_quantity":999,"multi_price":100,"price":200,"quantity":0,"spec_id_list":[554476330,11408634],"new":true,"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","other":true,"sku_id":0},{"is_onsale":0,"limit_quantity":999,"multi_price":100,"price":200,"quantity":0,"spec_id_list":[554476330,188664105],"new":true,"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","other":true,"sku_id":0},{"is_onsale":0,"limit_quantity":999,"multi_price":100,"price":200,"quantity":0,"spec_id_list":[1240185770,11408634],"new":true,"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","other":true,"sku_id":0},{"is_onsale":0,"limit_quantity":999,"multi_price":100,"price":200,"quantity":0,"spec_id_list":[1240185770,1240184605],"new":true,"thumb_url":"http://t00img.yangkeduo.com/goods/images/2018-10-16/738e8a09e74b0a3f4fff733f2ba2b7b0.jpg","other":true,"sku_id":0}],"video_gallery":[],"goods_type":1,"is_folt":1,"country_id":0,"country":"","is_pre_sale":0,"shipment_limit_second":172800,"pre_sale_time":null,"warehouse":"","customs":"","is_customs":false,"is_refundable":1,"second_hand":0,"cat_id":9501,"goods_properties":[]}'));
array(
goods_commit_id=>'6876849934',
goods_name
goods_desc
market_price
cost_template_id
carousel_gallery=>array(
		"xxx",
		"yyy"
		)
,
detail_gallery=>array(
		"xxx",
		"yyy"
		)
);
?>